# π“ Certificate System - Flow Diagrams

## π“ Certificate Generation Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    USER COMPLETES COURSE                         β”‚
β”‚                                                                  β”‚
β”‚  β€Ά Watches all video lessons                                    β”‚
β”‚  β€Ά Reads all text content                                       β”‚
β”‚  β€Ά Takes all mandatory quizzes                                  β”‚
β”‚  β€Ά Passes quizzes with score β‰¥ passingScore                    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              USER REQUESTS CERTIFICATE                           β”‚
β”‚                                                                  β”‚
β”‚  POST /api/certificates/generate                                β”‚
β”‚  Body: { courseId: "..." }                                      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         ELIGIBILITY VALIDATION (STEP 1)                          β”‚
β”‚                                                                  β”‚
β”‚  β Certificate already exists?                                 β”‚
β”‚     β†’ REJECT: "Certificate already issued"                      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… No existing certificate
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         ELIGIBILITY VALIDATION (STEP 2)                          β”‚
β”‚                                                                  β”‚
β”‚  β Course not found or has no lessons?                         β”‚
β”‚     β†’ REJECT: "Course not found"                                β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… Course exists
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         ELIGIBILITY VALIDATION (STEP 3)                          β”‚
β”‚                                                                  β”‚
β”‚  β User not enrolled?                                          β”‚
β”‚     β†’ REJECT: "User not enrolled"                               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… User enrolled
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         ELIGIBILITY VALIDATION (STEP 4)                          β”‚
β”‚                                                                  β”‚
β”‚  Compare:                                                        β”‚
β”‚    β€Ά Total lessons in course: 10                                β”‚
β”‚    β€Ά Completed lessons: 8                                       β”‚
β”‚                                                                  β”‚
β”‚  β Not all lessons completed?                                  β”‚
β”‚     β†’ REJECT: "Not all lessons completed"                       β”‚
β”‚     β†’ Details: {                                                β”‚
β”‚         totalLessons: 10,                                       β”‚
β”‚         completedLessons: 8,                                    β”‚
β”‚         remainingLessons: 2                                     β”‚
β”‚       }                                                          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… All lessons completed
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         ELIGIBILITY VALIDATION (STEP 5)                          β”‚
β”‚                                                                  β”‚
β”‚  Find all mandatory quizzes:                                    β”‚
β”‚    β€Ά Quizzes where requirePassingToProgress = true              β”‚
β”‚                                                                  β”‚
β”‚  For each mandatory quiz:                                       β”‚
β”‚    β€Ά Get user's best attempt                                    β”‚
β”‚    β€Ά Check if score β‰¥ passingScore                             β”‚
β”‚                                                                  β”‚
β”‚  Example:                                                        β”‚
β”‚    Quiz 1: Required, Passing Score: 70%, User Score: 85% β…    β”‚
β”‚    Quiz 2: Required, Passing Score: 70%, User Score: 65% β    β”‚
β”‚    Quiz 3: Required, Passing Score: 70%, Not attempted β      β”‚
β”‚                                                                  β”‚
β”‚  β Any mandatory quiz not passed?                              β”‚
β”‚     β†’ REJECT: "Not all mandatory quizzes passed"                β”‚
β”‚     β†’ Details: {                                                β”‚
β”‚         failedQuizzes: [                                        β”‚
β”‚           {                                                     β”‚
β”‚             title: "React Hooks Quiz",                          β”‚
β”‚             reason: "Not passed",                               β”‚
β”‚             score: 65,                                          β”‚
β”‚             passingScore: 70                                    β”‚
β”‚           },                                                    β”‚
β”‚           {                                                     β”‚
β”‚             title: "Node.js Quiz",                              β”‚
β”‚             reason: "Not attempted"                             β”‚
β”‚           }                                                     β”‚
β”‚         ]                                                       β”‚
β”‚       }                                                          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… All mandatory quizzes passed
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              ALL VALIDATION PASSED β…                            β”‚
β”‚                                                                  β”‚
β”‚  β€Ά Certificate doesn't exist                                    β”‚
β”‚  β€Ά Course exists with lessons                                   β”‚
β”‚  β€Ά User is enrolled                                             β”‚
β”‚  β€Ά All lessons completed                                        β”‚
β”‚  β€Ά All mandatory quizzes passed                                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           CALCULATE GRADE & METRICS                              β”‚
β”‚                                                                  β”‚
β”‚  Calculate average quiz score:                                  β”‚
β”‚    β€Ά Quiz 1: 85%                                                β”‚
β”‚    β€Ά Quiz 2: 92%                                                β”‚
β”‚    β€Ά Quiz 3: 88%                                                β”‚
β”‚    β†’ Average: 88.3%                                             β”‚
β”‚                                                                  β”‚
β”‚  Determine grade:                                               β”‚
β”‚    β€Ά 88.3% β†’ Grade B+                                           β”‚
β”‚                                                                  β”‚
β”‚  Check honors:                                                  β”‚
β”‚    β€Ά Average β‰¥ 95% AND completion = 100%                        β”‚
β”‚    β€Ά 88.3% < 95% β†’ No honors                                    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           GENERATE CERTIFICATE                                   β”‚
β”‚                                                                  β”‚
β”‚  1. Create certificate document:                                β”‚
β”‚     β€Ά certificateId: "CERT-2026-A1B2C3D4E5F6"                  β”‚
β”‚     β€Ά userId: ObjectId                                          β”‚
β”‚     β€Ά courseId: ObjectId                                        β”‚
β”‚     β€Ά userName: "John Doe"                                      β”‚
β”‚     β€Ά courseName: "Full Stack Development"                      β”‚
β”‚     β€Ά issuedAt: 2026-02-05T10:30:00Z                          β”‚
β”‚     β€Ά grade: "B+"                                               β”‚
β”‚     β€Ά honors: false                                             β”‚
β”‚                                                                  β”‚
β”‚  2. Generate SHA-256 hash (automatic)                           β”‚
β”‚                                                                  β”‚
β”‚  3. Save to database                                            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           UPDATE COURSE PROGRESS                                 β”‚
β”‚                                                                  β”‚
β”‚  Update CourseProgress:                                          β”‚
β”‚    β€Ά certificateIssued: true                                    β”‚
β”‚    β€Ά status: "completed"                                        β”‚
β”‚    β€Ά completedAt: Date.now()                                    β”‚
β”‚    β€Ά certificateUrl: certificate.certificateUrl                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           RETURN CERTIFICATE β…                                  β”‚
β”‚                                                                  β”‚
β”‚  Response:                                                       β”‚
β”‚  {                                                               β”‚
β”‚    success: true,                                               β”‚
β”‚    message: "Certificate generated successfully",               β”‚
β”‚    certificate: {                                               β”‚
β”‚      certificateId: "CERT-2026-A1B2C3D4E5F6",                  β”‚
β”‚      userName: "John Doe",                                      β”‚
β”‚      courseName: "Full Stack Development",                      β”‚
β”‚      grade: "B+",                                               β”‚
β”‚      honors: false,                                             β”‚
β”‚      issuedAt: "2026-02-05T10:30:00.000Z",                    β”‚
β”‚      certificateHash: "a3f8b2c9...",                            β”‚
β”‚      verificationStatus: "verified"                             β”‚
β”‚    }                                                             β”‚
β”‚  }                                                               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π” Eligibility Check Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚     USER CHECKS ELIGIBILITY (Before Completion)                  β”‚
β”‚                                                                  β”‚
β”‚  GET /api/certificates/eligibility/:courseId                    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              RUN ELIGIBILITY CHECKS                              β”‚
β”‚                                                                  β”‚
β”‚  Progress Status:                                                β”‚
β”‚    β€Ά Total Lessons: 10                                          β”‚
β”‚    β€Ά Completed: 7                                               β”‚
β”‚    β€Ά Remaining: 3 β                                            β”‚
β”‚                                                                  β”‚
β”‚  Mandatory Quizzes:                                              β”‚
β”‚    β€Ά Quiz 1: β… Passed (85%)                                    β”‚
β”‚    β€Ά Quiz 2: β… Passed (92%)                                    β”‚
β”‚    β€Ά Quiz 3: β Failed (65% < 70%)                              β”‚
β”‚    β€Ά Quiz 4: β³ Not attempted                                   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           RETURN ELIGIBILITY STATUS                              β”‚
β”‚                                                                  β”‚
β”‚  Response:                                                       β”‚
β”‚  {                                                               β”‚
β”‚    success: true,                                               β”‚
β”‚    eligible: false,                                             β”‚
β”‚    message: "Not all lessons are completed",                    β”‚
β”‚    details: {                                                   β”‚
β”‚      totalLessons: 10,                                          β”‚
β”‚      completedLessons: 7,                                       β”‚
β”‚      progressPercentage: 70,                                    β”‚
β”‚      remainingLessons: 3,                                       β”‚
β”‚      totalMandatoryQuizzes: 4,                                  β”‚
β”‚      passedMandatoryQuizzes: 2,                                 β”‚
β”‚      failedQuizzes: [                                           β”‚
β”‚        {                                                        β”‚
β”‚          title: "React Hooks Quiz",                             β”‚
β”‚          reason: "Not passed",                                  β”‚
β”‚          score: 65,                                             β”‚
β”‚          passingScore: 70                                       β”‚
β”‚        },                                                       β”‚
β”‚        {                                                        β”‚
β”‚          title: "Node.js Quiz",                                 β”‚
β”‚          reason: "Not attempted"                                β”‚
β”‚        }                                                        β”‚
β”‚      ]                                                          β”‚
β”‚    }                                                             β”‚
β”‚  }                                                               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π” Certificate Verification Flow (Public)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚        ANYONE VERIFIES CERTIFICATE (No Login)                    β”‚
β”‚                                                                  β”‚
β”‚  GET /api/certificates/verify/:certificateId                    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           FIND CERTIFICATE IN DATABASE                           β”‚
β”‚                                                                  β”‚
β”‚  β Certificate not found?                                      β”‚
β”‚     β†’ Return: { valid: false, message: "Not found" }           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… Certificate found
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           CHECK REVOCATION STATUS                                β”‚
β”‚                                                                  β”‚
β”‚  β Certificate is revoked?                                     β”‚
β”‚     β†’ Return: {                                                 β”‚
β”‚         valid: false,                                           β”‚
β”‚         message: "Certificate has been revoked",                β”‚
β”‚         revokedAt: "2026-02-03T08:15:00Z",                     β”‚
β”‚         revokedReason: "Fraud detected"                         β”‚
β”‚       }                                                          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… Not revoked
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           VERIFY INTEGRITY                                       β”‚
β”‚                                                                  β”‚
β”‚  1. Recompute hash from certificate data                        β”‚
β”‚  2. Compare with stored certificateHash                         β”‚
β”‚                                                                  β”‚
β”‚  β Hashes don't match?                                         β”‚
β”‚     β†’ Return: {                                                 β”‚
β”‚         valid: false,                                           β”‚
β”‚         message: "Integrity check failed"                       β”‚
β”‚       }                                                          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚ β… Integrity verified
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           RECORD VERIFICATION                                    β”‚
β”‚                                                                  β”‚
β”‚  Update certificate:                                             β”‚
β”‚    β€Ά verificationCount: +1                                      β”‚
β”‚    β€Ά lastVerifiedAt: Date.now()                                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
                     β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           RETURN VALID CERTIFICATE β…                            β”‚
β”‚                                                                  β”‚
β”‚  Response:                                                       β”‚
β”‚  {                                                               β”‚
β”‚    success: true,                                               β”‚
β”‚    valid: true,                                                 β”‚
β”‚    message: "Certificate is valid",                             β”‚
β”‚    certificate: {                                               β”‚
β”‚      certificateId: "CERT-2026-A1B2C3D4E5F6",                  β”‚
β”‚      userName: "John Doe",                                      β”‚
β”‚      courseName: "Full Stack Development",                      β”‚
β”‚      courseLevel: "intermediate",                               β”‚
β”‚      issuedAt: "2026-02-05T10:30:00.000Z",                    β”‚
β”‚      grade: "B+",                                               β”‚
β”‚      completionMetrics: { ... },                                β”‚
β”‚      skillsAchieved: ["React", "Node.js", ...]                 β”‚
β”‚    }                                                             β”‚
β”‚  }                                                               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π“ Grading System Diagram

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    GRADE CALCULATION                            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Average Quiz Score (%)
    β”‚
    β”‚  β‰¥95% AND 100% completion
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί A+ (WITH HONORS) π†
    β”‚
    β”‚  90-94%
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί A
    β”‚
    β”‚  85-89%
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί B+
    β”‚
    β”‚  80-84%
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί B
    β”‚
    β”‚  75-79%
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί C+
    β”‚
    β”‚  70-74%
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί C
    β”‚
    β”‚  <70% OR No Quizzes
    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Ί Pass

Examples:
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ User A: 96% avg, 100% completion β†’ A+ WITH HONORS π†        β”‚
β”‚ User B: 96% avg, 95% completion  β†’ A+ (no honors)           β”‚
β”‚ User C: 88% avg, 100% completion β†’ B+                       β”‚
β”‚ User D: 65% avg, 100% completion β†’ Pass                     β”‚
β”‚ User E: No quizzes, 100% completion β†’ Pass                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π« Prevention Scenarios

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              CERTIFICATE GENERATION BLOCKED                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Scenario 1: Incomplete Lessons
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Total Lessons: 10                                            β”‚
β”‚ Completed: 8/10                                              β”‚
β”‚                                                              β”‚
β”‚ Status: β BLOCKED                                           β”‚
β”‚ Message: "Not all lessons are completed"                    β”‚
β”‚ Action Required: Complete remaining 2 lessons                β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Scenario 2: Failed Mandatory Quiz
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Quiz: "React Hooks Quiz"                                     β”‚
β”‚ Required: YES (requirePassingToProgress: true)               β”‚
β”‚ Passing Score: 70%                                           β”‚
β”‚ User Score: 65%                                              β”‚
β”‚                                                              β”‚
β”‚ Status: β BLOCKED                                           β”‚
β”‚ Message: "Not all mandatory quizzes are passed"             β”‚
β”‚ Action Required: Retake quiz and score β‰¥70%                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Scenario 3: Quiz Not Attempted
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Quiz: "Node.js Quiz"                                         β”‚
β”‚ Required: YES (requirePassingToProgress: true)               β”‚
β”‚ Status: Not attempted                                        β”‚
β”‚                                                              β”‚
β”‚ Status: β BLOCKED                                           β”‚
β”‚ Message: "Not all mandatory quizzes are passed"             β”‚
β”‚ Action Required: Attempt and pass the quiz                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Scenario 4: Certificate Already Exists
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Certificate ID: CERT-2026-A1B2C3D4E5F6                      β”‚
β”‚ Issued At: 2026-02-01T10:30:00Z                            β”‚
β”‚                                                              β”‚
β”‚ Status: β BLOCKED                                           β”‚
β”‚ Message: "Certificate already issued for this course"       β”‚
β”‚ Action Required: None (certificate cannot be regenerated)   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

Scenario 5: Not Enrolled
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ CourseProgress: Not found                                    β”‚
β”‚                                                              β”‚
β”‚ Status: β BLOCKED                                           β”‚
β”‚ Message: "User not enrolled in this course"                 β”‚
β”‚ Action Required: Enroll in the course first                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π“ Database Relationships

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚    User     β”‚         β”‚   Course    β”‚         β”‚Certificate  β”‚
β”‚             β”‚         β”‚             β”‚         β”‚             β”‚
β”‚ _id         β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€β”¤ createdBy   β”‚         β”‚ userId      β”‚β—„β”€β”€β”€β”
β”‚ name        β”‚         β”‚ title       β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€β”¤ courseId    β”‚    β”‚
β”‚ email       β”‚         β”‚ category    β”‚         β”‚ userName*   β”‚    β”‚
β”‚             β”‚         β”‚ level       β”‚         β”‚ courseName* β”‚    β”‚
β”‚             β”‚         β”‚ skills[]    β”‚         β”‚ issuedAt    β”‚    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”‚ grade       β”‚    β”‚
                                                 β”‚ honors      β”‚    β”‚
                                                 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
                                                        β”‚            β”‚
                                                        β”‚            β”‚
                                   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”            β”‚
                                   β”‚                                 β”‚
                                   β–Ό                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”        β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”
β”‚   Lesson    β”‚         β”‚CourseProgress    β”‚        β”‚   MicroQuiz      β”‚
β”‚             β”‚         β”‚                  β”‚        β”‚                  β”‚
β”‚ _id         β”‚β—„β”€β”€β”€β”€β”€β”€β”€β”€β”¤ completedLessons β”‚        β”‚ _id              β”‚
β”‚ courseId    β”‚         β”‚   [{lessonId}]   β”‚        β”‚ lessonId         β”‚
β”‚ title       β”‚         β”‚ userId           β”‚β”€β”€β”€β”€β”€β”€β”€β”€β”¤ courseId         β”‚
β”‚ hasQuiz     β”‚         β”‚ courseId         β”‚        β”‚ passingScore     β”‚
β”‚ microQuizId β”‚β”€β”€β”€β”€β”€β”   β”‚ status           β”‚        β”‚ requirePassing.. β”‚
β”‚             β”‚     β”‚   β”‚ certificateIssuedβ”‚        β”‚                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”‚   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”        β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚                                         β”‚
                    β”‚                                         β”‚
                    β”‚   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚   β”‚
                    β–Ό   β–Ό
            β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
            β”‚ MicroQuizAttempt    β”‚
            β”‚                     β”‚
            β”‚ userId              β”‚
            β”‚ quizId              β”‚
            β”‚ lessonId            β”‚
            β”‚ courseId            β”‚
            β”‚ score               β”‚
            β”‚ percentage          β”‚
            β”‚ passed              β”‚
            β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

* Denotes cached/immutable data
```

---

## π”„ Complete System Flow

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                         USER JOURNEY                              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

1. Enrollment
   β””β”€β–Ί CourseProgress created (status: 'enrolled')

2. Learning
   β”β”€β–Ί Complete Lesson 1 β†’ Update completedLessons[]
   β”β”€β–Ί Take Quiz 1 β†’ MicroQuizAttempt created
   β”‚   β””β”€β–Ί Pass? β†’ Continue
   β”‚   β””β”€β–Ί Fail? β†’ Retry until pass
   β”β”€β–Ί Complete Lesson 2 β†’ Update completedLessons[]
   β”β”€β–Ί Take Quiz 2 β†’ MicroQuizAttempt created
   β””β”€β–Ί ... repeat for all lessons

3. Check Eligibility
   β””β”€β–Ί GET /api/certificates/eligibility/:courseId
       β””β”€β–Ί Returns: eligible status + details

4. Complete All Requirements
   β”β”€β–Ί All lessons completed β…
   β””β”€β–Ί All mandatory quizzes passed β…

5. Generate Certificate
   β””β”€β–Ί POST /api/certificates/generate
       β”β”€β–Ί Validation runs
       β”β”€β–Ί Grade calculated
       β”β”€β–Ί Certificate created
       β”β”€β–Ί CourseProgress updated
       β””β”€β–Ί Certificate returned β…

6. Verification (Public)
   β””β”€β–Ί GET /api/certificates/verify/:certificateId
       β”β”€β–Ί Integrity check
       β”β”€β–Ί Revocation check
       β””β”€β–Ί Valid certificate data returned β…

7. Download/Share
   β””β”€β–Ί GET /api/certificates/:certificateId/download
       β””β”€β–Ί PDF/Image generation (future)
```

---

## π― Key Decision Points

```
Is user enrolled?
    β”‚
    NO β”€β”€β”€β”€β”€β–Ί β REJECT
    β”‚
    YES
    β”‚
    β–Ό
Are all lessons completed?
    β”‚
    NO β”€β”€β”€β”€β”€β–Ί β REJECT (show remaining lessons)
    β”‚
    YES
    β”‚
    β–Ό
Are there mandatory quizzes?
    β”‚
    NO β”€β”€β”€β”€β”€β–Ί β… PROCEED (no quiz requirement)
    β”‚
    YES
    β”‚
    β–Ό
Are all mandatory quizzes passed?
    β”‚
    NO β”€β”€β”€β”€β”€β–Ί β REJECT (show failed quizzes)
    β”‚
    YES
    β”‚
    β–Ό
Does certificate already exist?
    β”‚
    YES β”€β”€β”€β”€β–Ί β REJECT (duplicate)
    β”‚
    NO
    β”‚
    β–Ό
β… GENERATE CERTIFICATE
    β”‚
    β”β”€β–Ί Calculate grade
    β”β”€β–Ί Generate hash
    β”β”€β–Ί Save certificate
    β”β”€β–Ί Update progress
    β””β”€β–Ί Return certificate
```

---

**End of Flow Diagrams** π‰

These diagrams illustrate the complete certificate generation, validation, and verification flows with all prevention mechanisms in place.
